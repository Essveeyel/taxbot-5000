:root{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0;min-width:320px;min-height:100vh}#root{height:100vh}.app-shell{--bg-main: #111827;--bg-panel: #0b1220;--bg-surface: #111827;--bg-input: #0f172a;--bg-messages: linear-gradient(180deg, #111827, #0f172a);--border-color: #1f2937;--border-soft: #334155;--text-main: #e5e7eb;--text-muted: #94a3b8;--text-accent: #93c5fd;--accent: #2563eb;--user-bubble: #1d4ed8;--assistant-bubble: #1f2937;--danger-glow: transparent;height:100%;display:grid;grid-template-columns:360px 1fr;background:var(--bg-main);color:var(--text-main);position:relative}.app-shell,.app-shell *{transition:background-color 9s cubic-bezier(.16,1,.3,1),border-color 9s cubic-bezier(.16,1,.3,1),color 9s cubic-bezier(.16,1,.3,1),box-shadow 10.5s cubic-bezier(.16,1,.3,1),filter 10.5s cubic-bezier(.16,1,.3,1)}.app-shell.evil-mode{--bg-main: #190508;--bg-panel: #23090e;--bg-surface: #2a0d12;--bg-input: #2e1116;--bg-messages: radial-gradient(circle at top, #3a1018 0%, #190508 65%);--border-color: #5a141f;--border-soft: #7f1d1d;--text-main: #ffe4e6;--text-muted: #fca5a5;--text-accent: #fda4af;--accent: #dc2626;--user-bubble: #b91c1c;--assistant-bubble: #3f121a;--danger-glow: rgba(239, 68, 68, .35)}.app-shell.sidebar-hidden{grid-template-columns:1fr}.script-panel{border-right:1px solid var(--border-color);background:var(--bg-panel);padding:1rem;display:flex;flex-direction:column;gap:1rem;overflow:hidden}.app-shell.sidebar-hidden .script-panel{display:none}.script-panel-header h1{margin:0;font-size:1.25rem}.script-panel-header p{margin:.25rem 0 0;color:var(--text-muted);font-size:.875rem}.script-panel-header label{margin-top:.65rem;font-size:.75rem;color:var(--text-accent);font-weight:600}.script-panel-header input{width:100%;margin-top:.35rem;border:1px solid var(--border-soft);border-radius:.55rem;background:var(--bg-input);color:var(--text-main);padding:.55rem}.sidebar-icon-toggle{position:absolute;left:.65rem;top:.8rem;z-index:10;width:2rem;height:2rem;border-radius:999px;padding:0;display:grid;place-items:center;background:var(--bg-panel);border-color:var(--border-soft);color:var(--text-main);box-shadow:0 0 0 1px var(--danger-glow)}.app-shell.sidebar-hidden .sidebar-icon-toggle{left:.85rem}.script-list{display:flex;flex-direction:column;gap:.75rem;overflow:auto;padding-right:.25rem}.script-item{background:var(--bg-surface);border:1px solid var(--border-color);border-radius:.75rem;padding:.65rem;display:flex;flex-direction:column;gap:.4rem}.script-item label{font-size:.8rem;color:var(--text-accent);font-weight:600}.step-title-row{display:flex;justify-content:space-between;gap:.5rem;align-items:center}.evil-toggle{display:inline-flex;align-items:center;gap:.35rem;color:var(--text-muted)!important}.evil-toggle input{accent-color:var(--accent)}textarea,button{font:inherit}.script-item textarea,.composer textarea{width:100%;border:1px solid var(--border-soft);border-radius:.55rem;background:var(--bg-input);color:var(--text-main);padding:.55rem;resize:vertical}button{border:1px solid transparent;border-radius:.55rem;padding:.5rem .75rem;font-weight:600;background:var(--accent);color:#fff;cursor:pointer;box-shadow:0 0 0 1px var(--danger-glow)}button:hover{filter:brightness(1.08)}.ghost-button{background:transparent;border-color:var(--border-soft);color:var(--text-main)}.script-actions{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.chat-panel{display:grid;grid-template-rows:auto 1fr auto;height:100%}.chat-header{border-bottom:1px solid var(--border-color);padding:1rem 1.25rem 1rem 3.3rem;background:color-mix(in srgb,var(--bg-panel) 70%,transparent)}.chat-header h2{margin:0;font-size:1.1rem}.chat-header p{margin:.2rem 0 0;color:var(--text-muted);font-size:.875rem}.chat-identity{display:flex;gap:.75rem;align-items:center}.chat-identity img{width:2.6rem;height:2.6rem;border-radius:.5rem;object-fit:contain;background:color-mix(in srgb,var(--bg-surface) 80%,#ffffff 20%);padding:.18rem;border:1px solid var(--border-soft);box-shadow:0 0 12px var(--danger-glow)}.messages{padding:1rem 1.25rem;overflow-y:auto;display:flex;flex-direction:column;gap:.75rem;background:linear-gradient(180deg,#111827,#0f172a);position:relative;isolation:isolate}.messages:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at top,#3a1018,#190508 65%);opacity:0;pointer-events:none;z-index:0;transition:opacity 11s cubic-bezier(.16,1,.3,1)}.app-shell.evil-mode .messages:before{opacity:1}.messages>*{position:relative;z-index:1}.message{max-width:min(80%,700px);padding:.7rem .85rem;border-radius:.85rem;line-height:1.4}.message p{margin:0}.message-user{align-self:flex-end;background:var(--user-bubble)}.message-assistant{align-self:flex-start;background:var(--assistant-bubble);border:1px solid var(--border-soft)}.message-typing{opacity:.8;font-style:italic;font-size:.78rem;background:transparent;border:none;padding:.1rem;color:var(--text-muted);box-shadow:none}.composer{border-top:1px solid var(--border-color);padding:.8rem 1.25rem;display:grid;grid-template-columns:1fr auto;gap:.75rem;align-items:end}.composer textarea{min-height:2.75rem;max-height:10rem}@media(max-width:950px){.app-shell{grid-template-columns:1fr;grid-template-rows:minmax(220px,35vh) 1fr}.script-panel{border-right:none;border-bottom:1px solid var(--border-color)}}
